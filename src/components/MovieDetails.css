/* ===== Design tokens ===== */
:root{
  --space-1:.25rem; --space-2:.5rem; --space-3:.75rem;
  --space-4:1rem;   --space-5:1.25rem; --space-6:1.5rem;

  --radius:12px; --pill:999px;

  --title:clamp(1.6rem,2vw + 1rem,2rem);
  --chip: clamp(.78rem,.6vw + .6rem,.95rem);

  --bg-hero:#0f172a;
  --fg-1:#fff; --fg-2:#eaf0ff; --fg-3:#cdd7e1;

  --pill-bg:rgba(255,255,255,.12);
  --pill-bd:rgba(255,255,255,.22);
  --glass-blur:4px;
}

/* ===== Page wrapper ===== */
.movie-details{ max-width:1100px; margin:0 auto; padding:0 0 var(--space-6); }
.movie-header{ margin-bottom:var(--space-4); }
.back-link{ display:inline-flex; align-items:center; gap:.4rem; margin:.5rem 0; color:#667eea; font-weight:600; text-decoration:none; }
.back-link:hover{ color:#5a67d8; }

/* ===== TMDB-like hero ===== */
.tmdb-hero{
  position:relative; border-radius:16px; overflow:hidden;
  min-height:320px; background:var(--bg-hero);
  box-shadow:0 12px 24px rgba(0,0,0,.15);
  container-type:inline-size; container-name:hero; /* container query! */
}
.tmdb-hero__backdrop, .tmdb-hero__backdrop img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
}
.tmdb-hero__backdrop img{
  filter:blur(4px) saturate(112%) contrast(108%);
  transform:scale(1.04); opacity:.82;
}
.tmdb-hero__overlay{
  position:absolute; inset:0;
  background:
          radial-gradient(900px 360px at 58% 6%, rgba(102,126,234,.22), transparent 60%),
          linear-gradient(90deg, rgba(15,23,42,.9) 0%, rgba(15,23,42,.62) 45%, rgba(15,23,42,.30) 100%);
  z-index:1;
}
.tmdb-hero__content{
  position:relative; z-index:2;
  display:grid; grid-template-columns:160px 1fr;
  gap:var(--space-4);
  padding:var(--space-5) var(--space-5);
  align-items:center;
}

/* Poster */
.tmdb-hero__poster img, .poster-placeholder{
  width:150px; height:220px; border-radius:10px; box-shadow:0 8px 18px rgb(7, 7, 7);
}
.poster-placeholder{ display:grid; place-items:center; background:rgba(255,255,255,.12); color:#e5e7eb; }

/* Text */
.tmdb-hero__text{ color:var(--fg-1); }
.tmdb-hero__title{ margin:0 0 var(--space-2); font-size:var(--title); line-height:1.2; text-shadow:0 2px 8px rgba(0,0,0,.35); }
.tmdb-hero__year{ margin-left:.4rem; color:var(--fg-3); font-weight:500; }

/* Chips (date, runtime, genres, countries…) */
.tmdb-hero__chips{ display:flex; flex-wrap:wrap; gap:.5rem; align-items:center; margin:.4rem 0 .6rem; }
.chip{
  display:inline-flex; align-items:center; padding:.5rem .75rem;
  font-size:var(--chip); font-weight:600; color:var(--fg-2);
  background:var(--pill-bg); border:1px solid var(--pill-bd);
  border-radius:var(--pill); backdrop-filter:blur(var(--glass-blur)); -webkit-backdrop-filter:blur(var(--glass-blur));
}
.chip--link{ text-decoration:none; transition:transform .15s, background .15s; }
.chip--link:hover{ transform:translateY(-1px); background:rgba(255,255,255,.16); }
.chip--ghost{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.12); }
.chip--meta{ background:rgba(255,255,255,.14); }

/* KPIs */
.metrics{
  display:grid; grid-template-columns:repeat(3, minmax(160px,1fr));
  gap:var(--space-4); margin:var(--space-2) 0;
}
.metric__label{ font-size:.75rem; color:#d1d5db; letter-spacing:.2px; }
.metric__value{ font-weight:800; font-size:1.05rem; color:#fff; }

/* People (director + cast) */
.people-block{ display:grid; gap:.4rem; }
.people-group{ display:grid; gap:.25rem; }
.people-label{ font-size:.8rem; color:var(--fg-3); text-transform:uppercase; letter-spacing:.35px; }
.people-list{ display:flex; flex-wrap:wrap; gap:.6rem .9rem; }
.person{ display:inline-flex; align-items:center; gap:.5rem; color:inherit; text-decoration:none; }
.person:hover .person-name{ text-decoration:underline; }
.avatar{ width:36px; height:36px; border-radius:50%; overflow:hidden; background:rgba(255,255,255,.18); box-shadow:0 2px 8px rgba(0,0,0,.25); }
.avatar img{ width:100%; height:100%; object-fit:cover; }
.person-name{ font-size:.9rem; font-weight:600; text-shadow:0 1px 4px rgba(0,0,0,.25); }

/* Optional short overview */
.tmdb-hero__overview{ margin-top:.4rem; max-width:60ch; }
.tmdb-hero__overview p{ margin:0; color:#f1f5f9; line-height:1.35; }

/* Container query: when the hero is narrow */
@container hero (max-width: 560px){
  .tmdb-hero__content{ grid-template-columns:1fr; text-align:center; }
  .tmdb-hero__poster{ order:-1; margin:0 auto var(--space-3); }
  .metrics{ grid-template-columns:1fr; }
  .people-list{ justify-content:center; }
}

/* ===== Trimmed table styles (keep if you show the weekend table) ===== */
.table-section{ background:#fff; padding:16px; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,.08); margin:16px 0 18px; }
.table-section h2{ margin:0 0 10px; color:#2c3e50; font-size:1.1rem; }
.table-container{ overflow-x:auto; }
.performance-table{ width:100%; border-collapse:collapse; font-size:.9rem; }
.performance-table th{
  background:#f8f9fa; color:#2c3e50; font-weight:600; padding:.75rem; text-align:left; border-bottom:2px solid #e9ecef; white-space:nowrap;
}
.performance-table td{ padding:.6rem .75rem; border-bottom:1px solid #e9ecef; vertical-align:middle; }
.performance-table tbody tr:hover{ background:#f8f9fa; }

.date-cell{ font-weight:600; color:#2c3e50; }
.rank-cell{ font-weight:bold; color:#667eea; text-align:center; }
.gross-cell{ font-weight:600; color:#27ae60; text-align:right; }
.change-cell{ font-weight:600; text-align:center; }
.change-cell.positive{ color:#27ae60; } .change-cell.negative{ color:#e74c3c; }
.theater-cell, .per-theater-cell{ text-align:right; color:#7f8c8d; }
.week-cell{ text-align:center; font-weight:600; color:#667eea; }

/* ---------- Corrections titre & layout ---------- */
.tmdb-hero__content--top { align-items: flex-start; }
.tmdb-hero__title{
  color:#fff;
  text-shadow:
          0 3px 12px rgba(0,0,0,.55),
          0 0 1px rgba(0,0,0,.9);
}

/* ---------- Pills plus petites ---------- */
:root{ --chip: .85rem; }                       /* taille de police plus petite */
.chip{ padding:.35rem .6rem; border-radius:999px; }

/* Genre pill à l’ancienne (dégradé) */
.chip--genre{
  color:#fff;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  box-shadow: 0 2px 10px rgba(0,0,0,.15);
}

/* Meilleur centrage vertical de la rangée */
.tmdb-hero__chips{ align-items:center; gap:.5rem; }

/* KPI en 5 colonnes, responsive via container query */
.metrics{ grid-template-columns: repeat(5, minmax(140px,1fr)); }
@container hero (max-width: 900px){ .metrics{ grid-template-columns: repeat(3, minmax(140px,1fr)); } }
@container hero (max-width: 560px){ .metrics{ grid-template-columns: 1fr; } }

/* Réal sans avatar */
.person--text .avatar{ display:none; }

/* one table style for this screen */
.box-office-table { width:100%; border-collapse:collapse; table-layout:auto; }
.box-office-table th,
.box-office-table td { padding: .9rem .8rem; }

/* header alignment to match cells */
.box-office-table th.th-left   { text-align:left; }
.box-office-table th.th-center { text-align:center; }
.box-office-table th.th-right  { text-align:right; }

/* body cell alignment */
.box-office-table td.date-cell        { text-align:left; }
.box-office-table td.rank-cell,
.box-office-table td.week-cell,
.box-office-table td.change-cell      { text-align:center; }
.box-office-table td.gross-cell,
.box-office-table td.theaters-cell,
.box-office-table td.pertheater-cell  { text-align:right; }

.tmdb-hero__titleblock{
  display:flex;
  flex-direction:column;
  gap:.25rem; /* tiny space between FR title and VO title */
}

.tmdb-hero__subtitle {
  font-size: clamp(0.75rem, 0.5vw + 0.6rem, 1rem); /* smaller */
  line-height: 1.25;
  color: var(--fg-3);
  font-weight: 400; /* lighter than the title */
  font-style: italic; /* italic text */
  text-shadow: 0 2px 8px rgba(0,0,0,.35);
  margin: 0;
}

/* Scrolling wrapper and momentum scrolling on iOS */
.table-container{
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Make the table wide enough to scroll if needed, and keep numbers on one line */
.box-office-table{
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;          /* keeps column widths stable */
  min-width: 760px;             /* guarantees a scrollable width on small screens */
}
.box-office-table th,
.box-office-table td{
  white-space: nowrap;          /* prevent wrapping that breaks alignment */
}

/* Tighten padding/size gradually */
@media (max-width: 900px){
  .box-office-table{ min-width: 680px; font-size: .92rem; }
  .box-office-table th, .box-office-table td{ padding: .7rem .6rem; }
}

/* Hide lowest-priority column first: $ / salle */
@media (max-width: 700px){
  .box-office-table{ min-width: 600px; }
  .box-office-table th.col-pertheater,
  .box-office-table td.pertheater-cell{ display: none; }
}

/* Then hide Salles */
@media (max-width: 560px){
  .box-office-table{ min-width: 520px; }
  .box-office-table th.col-theaters,
  .box-office-table td.theaters-cell{ display: none; }
}

/* Then hide % Changement on very narrow screens */
@media (max-width: 420px){
  .box-office-table{ min-width: 440px; font-size: .88rem; }
  .box-office-table th.col-change,
  .box-office-table td.change-cell{ display: none; }
}

/* Optional: sticky header for long lists (remove if you don't want it) */
@supports (position: sticky){
  .box-office-table thead th{
    position: sticky; top: 0;
    background: #fff; z-index: 1;
  }
}

/* ===== Compact hero (about ~40–50% shorter) ===== */
.tmdb-hero--compact{ min-height:220px; }
.tmdb-hero--compact .tmdb-hero__content{
  grid-template-columns:120px 1fr;
  gap: var(--space-3);
  padding: var(--space-4);
  align-items:flex-start;
}

/* Poster smaller */
.tmdb-hero--compact .tmdb-hero__poster img,
.tmdb-hero--compact .poster-placeholder{
  width:110px; height:165px; border-radius:10px;
  box-shadow:0 6px 14px rgba(0,0,0,.35);
}

/* Title + subtitle smaller */
.tmdb-hero--compact .tmdb-hero__title{
  font-size: clamp(1.25rem, 1.2vw + .9rem, 1.6rem);
  margin-bottom: .25rem;
}
.tmdb-hero--compact .tmdb-hero__subtitle{
  font-size: clamp(.7rem, .5vw + .45rem, .9rem);
  font-style: italic;
  font-weight: 400;
}

/* Chips smaller/tighter */
.tmdb-hero--compact .chip{ padding:.3rem .5rem; font-size:.8rem; }
.tmdb-hero--compact .tmdb-hero__chips{ gap:.4rem; margin:.3rem 0 .5rem; }

/* KPIs denser */
.tmdb-hero--compact .metrics{
  grid-template-columns: repeat(5, minmax(120px,1fr));
  gap: .5rem;
  margin:.4rem 0 .2rem;
}
.tmdb-hero--compact .metric__label{ font-size:.7rem; }
.tmdb-hero--compact .metric__value{ font-size:1rem; }

/* People smaller */
.tmdb-hero--compact .avatar{ width:28px; height:28px; }
.tmdb-hero--compact .people-list{ gap:.4rem .6rem; }
.tmdb-hero--compact .person-name{ font-size:.85rem; }

/* Optional: shorter overview line-height */
.tmdb-hero--compact .tmdb-hero__overview p{ line-height:1.25; }

/* Container query keeps it readable on very small widths */
@container hero (max-width: 560px){
  .tmdb-hero--compact .tmdb-hero__content{ grid-template-columns:1fr; padding: var(--space-4); }
  .tmdb-hero--compact .tmdb-hero__poster{ order:-1; margin:0 auto .5rem; }
  .tmdb-hero--compact .metrics{ grid-template-columns: 1fr 1fr; }
}

/* --- swipe hint / toggle (only visible on mobile) --- */
.hero-toggle{
  position: absolute;
  left: 50%;
  bottom: 10px;
  transform: translateX(-50%);
  z-index: 5;
  display: none;
  padding: .35rem .7rem;
  font-size: .85rem;
  font-weight: 600;
  color: #fff;
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.22);
  border-radius: 999px;
  backdrop-filter: blur(6px);
}
@media (max-width: 680px){ .hero-toggle{ display: inline-flex; } }

/* --- Tabs --- */
.tabs { margin-top: 12px; }
.tabs__list {
  display: flex; gap: .5rem; overflow-x: auto; padding-bottom: .25rem;
  border-bottom: 1px solid rgba(0,0,0,.08);
}
.tabs__tab {
  appearance:none; border:1px solid rgba(0,0,0,.08);
  background:#fff; border-radius:999px; padding:.45rem .9rem; font-weight:700;
  cursor:pointer; white-space:nowrap;
}
.tabs__tab.is-active {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color:#fff; border-color: transparent;
}
.tabs__panel { padding: .75rem 0; }

/* --- Correction ID --- */
.idfix__row { display:flex; gap:.5rem; margin:.5rem 0; }
.idfix__input {
  flex:1; padding:.55rem .7rem; border-radius:10px; border:1px solid #d1d5db;
}
.btn { padding:.55rem .8rem; border-radius:10px; border:1px solid #d1d5db; background:#fff; font-weight:700; cursor:pointer; }
.btn--primary { background:#111827; color:#fff; border-color:#111827; }
.idfix__error { color:#e11d48; font-weight:700; margin:.25rem 0; }
.idfix__preview { display:flex; gap:.75rem; align-items:center; padding:.5rem; border:1px solid #e5e7eb; border-radius:12px; }
.idfix__preview img { width:60px; height:90px; border-radius:8px; object-fit:cover; }
.idfix__title { font-weight:800; }
.idfix__subtitle { color:#6b7280; font-size:.9rem; }
.idfix__notes { margin:.5rem 1rem; color:#6b7280; font-size:.9rem; }

/* Ancienne règle qui empilait en 1 colonne : à retirer
@container hero (max-width: 560px){
  .tmdb-hero__content{ grid-template-columns:1fr; text-align:center; }
  .tmdb-hero__poster{ order:-1; margin:0 auto var(--space-3); }
  .metrics{ grid-template-columns:1fr; }
  .people-list{ justify-content:center; }
}
*/

/* Nouvelle règle : toujours 2 colonnes même en mobile,
   poster petit à gauche, texte à droite */
@container hero (max-width: 560px){
  .tmdb-hero__content{
    grid-template-columns: 90px 1fr;
    align-items: center;
    text-align: left;
    gap: var(--space-3);
  }
  .tmdb-hero__poster img, .poster-placeholder{
    width: 84px;
    height: 120px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,.35);
  }
  .metrics{ grid-template-columns: 1fr; }
  .people-list{ justify-content: flex-start; }
}

/* --- FINAL MOBILE OVERRIDES (paste at the very end) --- */
@container hero (max-width: 560px){
  /* force two columns for BOTH regular and --compact variants */
  .tmdb-hero__content,
  .tmdb-hero--compact .tmdb-hero__content{
    grid-template-columns: 90px 1fr !important;
    align-items: center !important;
    text-align: left !important;
    gap: var(--space-3) !important;
  }

  /* poster stays on the left (undo any order:-1) */
  .tmdb-hero__poster,
  .tmdb-hero--compact .tmdb-hero__poster{
    order: 0 !important;
    margin: 0 !important;
  }

  /* smaller poster on mobile */
  .tmdb-hero__poster img,
  .tmdb-hero--compact .tmdb-hero__poster img,
  .poster-placeholder{
    width: 84px !important;
    height: 120px !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 10px rgba(0,0,0,.35) !important;
  }

  /* single-column KPIs; keep people left-aligned */
  .metrics{ grid-template-columns: 1fr !important; }
  .people-list{ justify-content: flex-start !important; }
}

/* --- Tabs readability --- */
.tabs { margin-top: 12px; }
.tabs__list{
  display:flex; gap:.5rem; overflow-x:auto; padding:.4rem;
  background:#fff; border-radius:999px;
  box-shadow:0 2px 12px rgba(0,0,0,.08);
  border:1px solid rgba(0,0,0,.06);
}
.tabs__tab{
  appearance:none; border:none; background:transparent;
  color:#334155;                                    /* readable on white */
  font-weight:700; padding:.5rem .9rem; border-radius:999px;
  cursor:pointer; white-space:nowrap;
}
.tabs__tab:is(:hover,:focus-visible){ background:rgba(79,70,229,.08); }
.tabs__tab.is-active{
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  color:#fff;
}

/* --- Info panel --- */
.info-panel{ padding:.5rem 0; color:var(--fg-1); }
.info-row{ margin-bottom:.75rem; }
.info-h3{ margin:0 0 .25rem; font-size:1rem; color:#e5e7eb; }
.info-text{ margin:0; color:#f1f5f9; line-height:1.35; }
.info-panel .chips{ display:flex; flex-wrap:wrap; gap:.5rem; }
.info-panel .kpis .metric__label{ color:#d1d5db; }

/* --- Info Card (clean, readable) --- */
.info-card{
  background:#fff;
  border:1px solid rgba(0,0,0,.06);
  border-radius:16px;
  box-shadow:0 10px 24px rgba(0,0,0,.06);
  padding:12px 14px;
  color:#111827;            /* force dark text for content area */
}

.info-row{ margin-bottom:12px; }
.info-row:last-child{ margin-bottom:0; }

/* Tiny section headings */
.info-h3{
  margin:0 0 6px;
  font-size:1rem;
  font-weight:800;
  color:#111827;
}

/* Subtle label (e.g., "Genres") */
.info-subtle{
  font-size:.85rem;
  font-weight:700;
  color:#6b7280;
  margin:0 0 6px;
}

/* Meta line at top (date + runtime) */
.info-meta{ display:flex; gap:.5rem; flex-wrap:wrap; }

/* Chips area */
.info-chips{ display:flex; gap:.45rem; flex-wrap:wrap; }

/* KPIs row (Countries + Budget) */
.info-kpis{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
@container hero (max-width:560px){
  .info-kpis{ grid-template-columns:1fr; }
}
.info-kpi{
  background:#f8fafc;
  border:1px solid #eef2f7;
  border-radius:12px;
  padding:10px 12px;
}
.info-kpi__label{
  font-size:.75rem;
  color:#64748b;
  font-weight:700;
  margin-bottom:4px;
}
.info-kpi__value{
  font-weight:800;
  color:#111827;
}
.info-kpi__value .chip{ /* country chips inside kpi */
  background:#eef2ff;
  border-color:#e0e7ff;
  color:#3730a3;
}

/* Synopsis */
.info-text{
  margin:0;
  color:#111827;
  line-height:1.4;
}

/* Cast list */
.info-cast{
  list-style:none; margin:0; padding:0;
  display:grid; gap:10px;
}
.info-cast__item{
  display:flex; align-items:center; gap:10px;
}
.avatar--md{ width:40px; height:40px; border-radius:999px; overflow:hidden; background:#e5e7eb; }
.avatar--md img{ width:100%; height:100%; object-fit:cover; display:block; }
.info-cast__name{
  font-weight:700; text-decoration:none; color:#111827;
}
.info-cast__name:hover{ text-decoration:underline; }

/* White chips in the desktop hero */
.tmdb-hero__chips .chip--meta{
  color:#fff;
  background:rgba(255,255,255,.14);
  border-color:rgba(255,255,255,.22);
}

/* Black chips in the mobile Info card */
.info-card .chip--meta{
  color:#111827;                  /* black text */
  background:#eef2ff;             /* light indigo BG */
  border-color:#e0e7ff;           /* soft border */
}

/* If you want to be explicit by viewport too (optional): */
@media (min-width: 769px){
  .info-card .chip--meta{
    color:#fff;
    background:rgba(255,255,255,.14);
    border-color:rgba(255,255,255,.22);
  }
}
