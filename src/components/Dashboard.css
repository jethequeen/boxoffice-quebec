/* =========================================================
   Dashboard — clean, compact, responsive
   ========================================================= */

/* --- Page chrome --- */
.dashboard { padding: 0; }
.dashboard-header { text-align: center; margin-bottom: 2rem; }
.dashboard-header h1 { color:#2c3e50; margin:0 0 .5rem 0; }
.dashboard-header p { color:#7f8c8d; font-size:1.1rem; }
.current-weekend { margin-top: 1rem; }
.weekend-badge {
  display:inline-block; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  color:#fff; padding:.5rem 1rem; border-radius:20px; font:600 .9rem/1 system-ui;
}

/* --- Loading / error --- */
.loading,.error { text-align:center; padding:3rem; }
.loading-spinner {
  width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;
  border-radius:50%; animation:spin 1s linear infinite; margin:0 auto 1rem;
}
@keyframes spin { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
.error { color:#e74c3c; }
.retry-button {
  background:#667eea;color:#fff;border:0;padding:.75rem 1.5rem;border-radius:8px;
  cursor:pointer;font-size:1rem;margin-top:1rem;transition:background .3s ease;
}
.retry-button:hover{ background:#5a67d8; }

/* --- Stat cards (generic) --- */
.stats-grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:1.5rem; margin-bottom:3rem;
}
.stat-card {
  background:#fff; padding:1.5rem; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,.1);
  display:flex; align-items:center; gap:1rem; transition:transform .3s, box-shadow .3s;
}
.stat-card:hover { transform:translateY(-2px); box-shadow:0 8px 15px rgba(0,0,0,.15); }
.stat-icon {
  font-size:2.5rem; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
}
.stat-content h3 {
  margin:0 0 .5rem 0; color:#7f8c8d; font:600 .9rem/1 system-ui; letter-spacing:.5px; text-transform:uppercase;
}
.stat-number { margin:0; font:700 1.8rem/1 system-ui; color:#2c3e50; }

/* --- Cards / rows --- */
.card { background:#fff; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,.08); padding:1rem; }
.row-2 { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
@media (max-width:900px){ .row-2 { grid-template-columns:1fr; } }

/* =========================================================
   Top-10: compact header (title + KPI chips + toggle)
   ========================================================= */
.top10-header{ display:flex; align-items:center; gap:.75rem; margin-bottom:.5rem; }
.top10-header h3{ margin:0; font:800 clamp(1rem,1.2vw,1.15rem)/1.2 system-ui; color:#1f2937; }

.kpi-row{ display:flex; gap:.5rem; flex-wrap:wrap; }
.kpi-chip{
  display:inline-flex; align-items:baseline; gap:.35rem; padding:.4rem .6rem;
  border:1px solid #eef2f7; border-radius:.6rem; background:#fff;
}
.kpi-chip .label{ font:600 clamp(.6rem,.8vw,.72rem)/1 system-ui; color:#6b7280; letter-spacing:.2px; text-transform:uppercase; }
.kpi-chip .val  { font:800 clamp(.9rem,1.2vw,1.05rem)/1.1 system-ui; color:#0b1324; }

.scope-toggle{
  margin-left:auto; display:inline-flex; border:1px solid #e5e7eb; border-radius:999px;
  overflow:hidden; background:#fff;
}
.scope-toggle button{
  padding:.4rem .65rem; border:0; background:transparent; cursor:pointer;
  font:600 clamp(.75rem,.95vw,.85rem)/1 system-ui; color:#6b7280;
}
.scope-toggle button.active{ background:#0f172a; color:#fff; }

/* =========================================================
   Poster Bars — responsive, no-overflow, small by default
   ========================================================= */



/* =========================================================
   Weekly chart / table (unchanged, tidy)
   ========================================================= */
.chart-section{ background:#fff; padding:2rem; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,.1); margin-bottom:2rem; }
.chart-section h2{ margin:0 0 1.5rem 0; color:#2c3e50; font-size:1.5rem; }
.chart-container{ width:100%; height:400px; }

/* Table */
.table-section{ background:#fff; padding:2rem; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,.1); }
.table-section h2{ margin:0 0 1.5rem 0; color:#2c3e50; font-size:1.5rem; }
.table-container{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
.box-office-table{ width:100%; border-collapse:collapse; font-size:.9rem; }
.box-office-table th{
  background:#f8f9fa; color:#2c3e50; font-weight:600; padding:1rem .75rem;
  border-bottom:2px solid #e9ecef; white-space:nowrap; text-align:left;
}
.box-office-table th:not(:first-child):not(:last-child){ text-align:center; }
.box-office-table th:last-child{ text-align:right; }
.box-office-table td{ padding:.75rem; border-bottom:1px solid #e9ecef; vertical-align:middle; }
.box-office-table tbody tr:hover{ background:#f8f9fa; }
.total-row{ background:#667eea; color:#fff; border-top:3px solid #5a67d8; font-weight:bold; }
.total-row td{ padding:1rem .75rem; border-bottom:none; }

/* Mobile tweaks */
@media (max-width:768px){
  .stats-grid{ grid-template-columns:1fr; }
  .stat-card{ padding:1rem; }
  .chart-section,.table-section{ padding:1rem; }
  .box-office-table{ font-size:.85rem; min-width:620px; }
}
@media (max-width:480px){
  .dashboard-header{ margin-bottom:1rem; padding:0 .75rem; }
  .dashboard-header h1{ font-size:1.5rem; }
  .stats-grid{ display:flex; flex-wrap:wrap; gap:.5rem; margin-bottom:1.25rem; max-width:320px; margin-inline:auto; justify-content:center; }
  .stat-card{ padding:.5rem .75rem; flex-direction:column; text-align:center; gap:2px; background:#f8fafc; border-radius:8px; min-width:60px; flex:1; max-width:75px; }
  .stat-content h3{ font-size:.65rem; line-height:1.1; margin-bottom:2px; }
  .stat-number{ font-size:.9rem; }
}

/* === Poster chart (single source of truth) === */
.poster { --axis:44px; --gap:10px; --foot:76px; --coin:36px; }

.poster-wrap{
  position:relative;
  height:260px;                 /* overall card height; tweak if you want */
  padding:6px 6px calc(var(--foot) + 6px) calc(var(--axis) + 6px);
  overflow:visible;             /* allow coin/label below bars */
}

/* axis + grid inside the plot area */
.poster-axis{
  position:absolute; left:6px; top:6px;
  bottom:calc(var(--foot) + 6px); width:calc(var(--axis) - 6px);
}
.poster-axis .tick{
  position:absolute; left:0; right:0; border-top:1px solid #e5e7eb;
  font:400 .68rem/1 system-ui; color:#6b7280; transform:translateY(-1px);
  font-variant-numeric:tabular-nums;
}

/* bars occupy only the plot area */
.poster-bars{
  position:absolute; left:calc(var(--axis) + 6px); right:6px; top:6px;
  bottom:calc(var(--foot) + 6px);
  display:grid; grid-template-columns:repeat(auto-fit, minmax(72px, 1fr));
  gap:var(--gap); align-items:end;
}

.poster-bar{ position:relative; display:flex; align-items:flex-end; justify-content:center; min-width:0; }
.poster-bar__col{
  width:50%;
  border-radius:14px 14px 10px 10px;
  background:linear-gradient(180deg,#f59e0b 0%,#fbbf24 60%,#fde047 100%);
  box-shadow:0 6px 14px rgba(0,0,0,.10);
}
.poster-bar__value{ position:absolute; top:-18px; font:800 .78rem/1 system-ui; color:#0b1324; }

/* coin + title sit BELOW the bars */
.poster-bar__cap{
  position:absolute; bottom:-34px; width:var(--coin); height:var(--coin);
  border-radius:50%; background:#0b1324; display:grid; place-items:center;
  overflow:hidden; box-shadow:0 3px 8px rgba(0,0,0,.2);
}
.poster-bar__cap img{ width:100%; height:100%; object-fit:cover; }

.poster-bar__label{
  position:absolute; bottom:-64px; width:100%; text-align:center; color:#374151;
  font:.5rem/1.15 system-ui; padding:0 3px;
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; overflow:hidden;
}


/* Poster title links: keep the text color, no underline, no blue/purple */
.poster-bar__label .poster-link {
  color: inherit;                 /* inherits #374151 from the label */
  text-decoration: none;          /* no underline */
}
.poster-bar__label .poster-link:visited {
  color: inherit;                 /* no purple visited color */
}
.poster-bar__label .poster-link:hover,
.poster-bar__label .poster-link:active {
  color: inherit;                 /* no blue on hover/active */
  text-decoration: none;
  filter: brightness(0.95);       /* subtle hover hint (optional) */
}
.poster-bar__label .poster-link:focus-visible {
  outline: 2px solid #111827;     /* accessible focus ring */
  outline-offset: 2px;
  text-decoration: none;
}
/* Add space between the poster coin and the title text */
.poster-bar__label{
  /* your current rules… */
  position:absolute; bottom:-64px; width:100%;
  text-align:center; color:#374151;
  font:.7rem/1.15 system-ui; /* ⬇️ this creates the gap */
  padding: 6px 1px 0;
}

/* tunable gap */
.poster { --label-gap: 6px; }

.poster-bar__label{
  bottom: calc(-70px - var(--label-gap));
  padding-top: var(--label-gap);
}


