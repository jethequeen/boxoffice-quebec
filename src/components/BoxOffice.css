/* ===== Layout (desktop only) ===== */
.box-office {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.box-office-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding: 1rem;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
}

/* ===== Table ===== */
.box-office-table {
  width: 100%;
  table-layout: fixed;
}

.box-office-table th,
.box-office-table td {
  padding: .6rem .75rem;
  border-bottom: 1px solid #eef2f7;
  vertical-align: middle;
  white-space: normal;
}

/* Sortable headers */
.box-office-table th.sortable { cursor: pointer; user-select: none; white-space: nowrap; }
.box-office-table th.sortable:hover { text-decoration: underline; }

/* Header style */
.box-office-table thead th {
  color: #111827;
  font-size: .95rem;
  font-weight: 700;
  letter-spacing: .15px;
  background: #f8fafc;
}


.gross-cell,
.cumulative-cell,
.rev-per-theater-cell { white-space: nowrap; }
.box-office-table td:not(:first-child):not(:last-child) {
  font-size: .92rem;
  line-height: 1;
  color: #334155;
}


.movie-title-wrap { display: flex; flex-direction: column; min-width: 0; max-width: 100%; }
.movie-title-fr {
  font-weight: 800;
  font-size: 1rem;
  line-height: 1;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  color: #16324f;
  text-decoration: none;
  margin-bottom: 0;
}

.movie-title-vo {
  color: #6b7280;
  font-style: italic;
  font-size: .8rem;
}


/* Loader */
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
}
.loading-spinner {
  width: 40px; height: 40px;
  border: 4px solid #f3f4f6; border-top: 4px solid #6366f1;
  border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 1rem;
}
@keyframes spin { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.8} }

.box-office-table .movie-cell .movie-title-wrap{
  display:flex;
  flex-direction:column;
  gap:0;
  line-height:1.1;
}

/* target the LINK specifically so it overrides any global link styles */
.box-office-table .movie-cell .movie-title-wrap > a.movie-title-fr,
.box-office-table .movie-cell .movie-title-wrap > a.movie-title-fr:link,
.box-office-table .movie-cell .movie-title-wrap > a.movie-title-fr:visited{
  margin:0 !important;          /* kill any inherited margins */
  padding:0 !important;
  line-height:0.7;
  display:inline-block;         /* keeps it snug with subtitle */
  text-decoration:none;
}

/* VO: true subtitle look */
.box-office-table .movie-cell .movie-title-wrap > .movie-title-vo{
  margin-top:1px !important;    /* hairline gap under FR title */
  padding:0;
  font-style:italic;
  font-size:.85rem;
  opacity:.85;
  line-height:0.3;
  display:inline-block;
}

/* --- Subtitle (VO) look exactly like your screenshot --- */
.box-office-table .movie-cell .movie-title-wrap{
  display:block;            /* simpler than flex; no gap surprises */
  line-height:1.15;
}

.box-office-table .movie-cell .movie-title-wrap > a.movie-title-fr{
  display:inline;           /* sits tight above the subtitle */
  margin:0 !important;
  padding:0 !important;
  line-height:1.15 !important;
  text-decoration:none;
  color:#0f172a;
  font-weight:800;
}

/* If you had a clamp, disable it so spacing is predictable */
.box-office-table .movie-cell .movie-title-wrap > a.movie-title-fr{
  -webkit-line-clamp:unset !important;
  -webkit-box-orient:unset !important;
  display:inline !important;  /* overrides any previous -webkit-box */
}

.box-office-table .movie-cell .movie-title-wrap > .movie-title-vo{
  display:block;
  margin-top:2px;           /* hairline gap */
  line-height:1.15;
  font-size:.85rem;
  letter-spacing:.02em;
  color:#94a3b8;            /* muted grey */
}

/* in BoxOffice.css or a new file imported by MovieTable.jsx */
.table-toolbar { display:flex; gap:12px; align-items:center; justify-content:space-between; margin:.5rem 0 1rem; }
.table-filter-input { padding:.5rem .75rem; border:1px solid #ddd; border-radius:8px; min-width: 260px; }
.table-columns-picker { position:relative; }
.table-columns-picker .picker-panel { position:absolute; right:0; margin-top:.25rem; padding:.5rem .75rem; background:#fff; border:1px solid #eee; border-radius:8px; box-shadow:0 6px 20px rgba(0,0,0,.06); display:grid; gap:.25rem; z-index:5; }
.th-inner { display:flex; align-items:center; gap:.35rem; justify-content:center; }
.align-right { text-align:right; } .align-center { text-align:center; }
.row-clickable { cursor:pointer; }

/* Optional caption in the picker */
.picker-caption {
  font-size: .8rem;
  color: #64748b;
  margin-bottom: .35rem;
}

.picker-item.disabled { opacity: .55; cursor: not-allowed; }
.picker-item.disabled input { pointer-events: none; }



.box-office-header {
  background:#fff;
  border-radius:12px;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
  padding:1rem 1.25rem;
}

.weekend-hero {
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  gap:.75rem;
}

.weekend-title {
  margin:0;
  text-align:center;
  font-size:2rem;
  line-height:1.2;
}

.nav-arrow {
  width:42px; height:42px;
  border:0; border-radius:10px;
  background:linear-gradient(180deg,#818cf8,#6366f1);
  color:#fff; font-weight:700; font-size:1.15rem;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer;
}
.nav-arrow.disabled { opacity:.4; cursor:not-allowed; }

.weekend-sub {
  margin-top:.75rem;
  display:flex; align-items:center; justify-content:space-between;
  gap:1rem; flex-wrap:wrap;
}
.weekend-context { margin:0; color:#64748b; }

.weekend-dropdown {
  padding:.5rem .6rem;
  border:1px solid #e5e7eb; border-radius:10px;
  background:#fff; font-size:.95rem;
}

/* Cardless hero row */
.weekend-hero-plain {
  display: grid;
  grid-template-columns: auto 1fr auto; /* arrow - title - arrow */
  align-items: center;
  gap: .75rem;
  margin: 1rem 0 1.25rem;   /* space above/below; no background */
}

.weekend-title {
  margin: 0;
  text-align: center;
  font-size: 2.2rem;
  line-height: 1.2;
  font-weight: 900;
  color: #0f172a;
}


.nav-arrow.disabled { opacity: .35; cursor: not-allowed; }



.table-toolbar {
  display:flex; gap:.75rem; align-items:center; justify-content:space-between;
  margin:.5rem 0 1rem;
}

.columns-popover { position:relative; }
.columns-popover[open] .columns-button .chev { transform:rotate(180deg); }

.columns-button {
  list-style:none; /* for summary */
  display:inline-flex; align-items:center; gap:.5rem;
  border:1px solid #e5e7eb; border-radius:10px;
  padding:.4rem .6rem;
  background:#fff; cursor:pointer; user-select:none;
  font-weight:600; color:#0f172a;
}
.columns-button::-webkit-details-marker { display:none; } /* hide default marker */

.columns-label { font-size:.92rem; }
.columns-badge {
  min-width:1.35rem; height:1.2rem; padding:0 .35rem;
  border-radius:999px; background:#eef2ff; color:#4338ca;
  display:inline-flex; align-items:center; justify-content:center;
  font-size:.78rem; font-weight:700;
}
.columns-button .chev { transition:transform .15s ease; opacity:.7; }

.columns-panel {
  position:absolute; right:0; margin-top:.35rem;
  background:#fff; border:1px solid #e5e7eb; border-radius:12px;
  box-shadow:0 12px 30px rgba(0,0,0,.08);
  padding:.6rem .7rem; z-index:10; min-width: 240px;
}

.picker-caption { font-size:.8rem; color:#64748b; margin-bottom:.4rem; }

.columns-grid {
  display:grid; grid-template-columns:1fr 1fr; gap:.35rem .75rem;
}
.picker-item {
  display:flex; align-items:center; gap:.45rem;
  font-size:.92rem; color:#0f172a;
}
.picker-item input { accent-color:#6366f1; }
.picker-item.disabled { opacity:.5; cursor:not-allowed; }
.picker-item.disabled input { pointer-events:none; }

/* Make the table horizontally scrollable if needed */
.table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Tighten spacing/fonts on mobile */
@media (max-width: 680px) {
  .table-toolbar {
    flex-direction: column;
    align-items: stretch;
    gap: .5rem;
  }

  /* Let the title column be a bit wider */
  .box-office-table col.col-title { width: 35% !important; }
}

/* Stats grid becomes fluid and numbers wrap gracefully */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px;
}



/* Prevent long numbers from overflowing; allow breaks even with NBSPs */
.stat-number {
  font-size: clamp(1.25rem, 5vw, 2rem);
  white-space: normal;
  overflow-wrap: anywhere;
  text-align: center;
}

/* Nice cards still */
.stat-card {
  background: #fff;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
}
.stat-icon {
  width: 32px; height: 32px; border-radius: 8px;
  background: linear-gradient(180deg,#818cf8,#6366f1);
}

/* Horizontal scroll fallback for real table */
.table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}
.box-office-table { width: 100%; table-layout: fixed; border-collapse: collapse; }
.box-office-table th, .box-office-table td {
  padding: .6rem .75rem; border-bottom: 1px solid #eef2f7; vertical-align: middle;
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}


/* Column picker (shared) */
.columns-popover { position:relative; }
.columns-button::-webkit-details-marker{display:none}
.columns-grid { display:grid; grid-template-columns:1fr 1fr; gap:.35rem .75rem; }
.picker-item.disabled{opacity:.5; cursor:not-allowed}
.picker-item.disabled input{pointer-events:none}

/* Stats responsive */
.stats-grid { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:16px; }
.stat-card{ background:#fff; border-radius:12px; padding:16px; box-shadow:0 2px 8px rgba(0,0,0,.06); }
.stat-number{ font-size: clamp(1.2rem, 5vw, 2rem); white-space: normal; overflow-wrap: anywhere; }

/* Alignment helpers */
.align-left{text-align:left} .align-center{text-align:center} .align-right{text-align:right}

/* Ensure inner elements inherit alignment in title cell */
.box-office-table td.movie-cell,
.box-office-table td.movie-cell .movie-title-wrap,
.box-office-table td.movie-cell .movie-title-fr,
.box-office-table td.movie-cell .movie-title-vo { text-align: inherit; }

/* Default table remains the same on desktop/tablet */
.table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}



/* Make sure alignment propagates into nested elements (currency spans, etc.) */
.box-office-table td .th-inner,
.box-office-table td > * { text-align: inherit; }



/* keep the offset for sticky headers */
.movie-title-wrap { scroll-margin-top: 84px; }

/* row-wide flash whenever a descendant has .flash-highlight */
table tr:has(.flash-highlight) td,
table tr:has(.flash-highlight) th,
[role="row"]:has(.flash-highlight) [role="gridcell"],
[role="row"]:has(.flash-highlight) [role="columnheader"] {
  animation: boxoffice-flash 1.5s ease-in-out 1; /* <-- use existing keyframes name */
}

@keyframes boxoffice-flash {
  0%   { background-color: rgba(255, 235, 130, 0.00); }
  15%  { background-color: rgba(128, 150, 236, 0.85); }
  60%  { background-color: rgba(29, 67, 230, 0.45); }
  100% { background-color: rgba(255, 235, 130, 0.00); }
}

/* Optional: style the date link */
.date-link { text-decoration: none; }
.date-link:hover { text-decoration: underline; }

/* Title cell layout */
.title-cell {
  display: flex;
  align-items: center;
  gap: 10px;
  min-height: 52px;            /* keeps rows tidy even without posters */
}

/* Poster bubble/rectangle */
.poster-thumb {
  width: 40px;                 /* ~2:3 ratio looks like a mini poster */
  height: 54px;
  object-fit: cover;
  flex: 0 0 auto;
  border-radius: 8px;          /* rounded rectangle by default */
  background: #e5e7eb;
  box-shadow: 0 1px 2px rgba(0,0,0,.08);
}
.poster-thumb.circle {          /* use for mobile if you prefer an avatar look */
  width: 40px;
  height: 40px;
  border-radius: 999px;
}
.poster-thumb.placeholder {
  background: linear-gradient(180deg,#f3f4f6,#e5e7eb);
}

/* Text next to poster */
.title-text { display: flex; flex-direction: column; min-width: 0; }
.movie-title-fr {
  font-weight: 600; color: #111827; text-decoration: none;
}
.movie-title-vo { font-size: .85rem; color: #6b7280; margin-top: 2px; }

/* Subtle rank to the LEFT of the poster (not a table column) */
.rank-chip {
  margin-right: 2px;
  width: 18px;                 /* narrow, doesn’t push layout */
  text-align: right;
  font-variant-numeric: tabular-nums;
  font-weight: 700;
  font-size: .85rem;
  color: #9ca3af;              /* discreet */
  opacity: .9;
}

/* ---- Only the text block is vertically centered to the poster ---- */
.title-cell { --poster-h: 48px; min-height: var(--poster-h); gap: 8px; }
.poster-thumb { width: 35px; height: var(--poster-h); object-fit: cover; border-radius: 8px; }

/* Film column stays LEFT-aligned horizontally */
.box-office-table td.movie-cell { text-align: left; }
.box-office-table td.movie-cell .title-cell { justify-content: flex-start; }
.box-office-table td.movie-cell .title-text { align-items: flex-start; text-align: left; }

/* The text block gets vertically centered against poster height */
.title-text { display: flex; flex-direction: column; min-width: 0; }
.title-text.single,
.title-text.has-vo { min-height: var(--poster-h); justify-content: center; }

/* ---- FR title WRAPS to fill the gap (2 lines max) ---- */
.movie-title-fr {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;       /* wrap up to 2 lines, then ellipsis */
  overflow: hidden;

  white-space: normal;         /* allow wrapping */
  text-overflow: ellipsis;     /* ellipsis only if it needs a 3rd line */

  font-weight: 750;
  font-size: 1rem;
  line-height: 1.15;
  color: #0f172a;
  margin: 0;
  text-decoration: none;
}

/* VO stays a single, muted line */
.movie-title-vo {
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: 1px;
  font-size: .85rem;
  line-height: 1.2;
  color: #94a3b8;
  font-style: italic;
}

/* Subtle, compact rank */
.rank-chip { width: 10px; text-align: center; font-variant-numeric: tabular-nums; font-weight: 700; font-size: 0.8rem; color: #9ca3af; }

/* (optional) slightly tighter row padding so the whole row is shorter */
.box-office-table th, .box-office-table td { padding: .45rem .55rem; }


/* tune once, reuse */
.title-cell {
  --poster-h: 48px;
  --nudge-single: 2px;  /* single-line (FR only) vertical nudge */
  --nudge-vo: 0px;      /* when FR+VO are shown */
}

/* keep items left; center only the text vs. poster */
.title-text {
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: var(--poster-h);
  justify-content: center;
  position: relative;           /* enables top/translate tweaks */
}

/* single-line case (FR==VO): push the text down a hair */
.title-text.single { transform: translateY(var(--nudge-single)); }

/* two-line case (FR + VO): usually already optically centered */
.title-text.has-vo { transform: translateY(var(--nudge-vo)); }


/* Horizontal scrolling when needed (desktop & mobile) */
.table-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }



  /* (Optional) slightly smaller poster so rows stay tidy on phones */
  .title-cell { --poster-h: 60px; gap: 8px; }
  .poster-thumb { width: 40px; height: var(--poster-h); }


/* Tighten spacing/fonts on mobile */
@media (max-width: 680px) {
  .table-toolbar {
    flex-direction: column;
    align-items: stretch;
    gap: .5rem;
  }



  /* Stats grid becomes fluid and numbers wrap gracefully */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 16px;
  }



  /* Prevent long numbers from overflowing; allow breaks even with NBSPs */
  .stat-number {
    font-size: clamp(1.25rem, 5vw, 2rem);
    white-space: normal;
    overflow-wrap: anywhere;
    text-align: center;
  }

  /* Nice cards still */
  .stat-card {
    background: #fff;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,.06);
  }
  .stat-icon {
    width: 32px; height: 32px; border-radius: 8px;
    background: linear-gradient(180deg,#818cf8,#6366f1);
  }

  /* Horizontal scroll fallback for real table */
  .table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  .box-office-table { width: 100%; table-layout: fixed; border-collapse: collapse; }
  .box-office-table th, .box-office-table td {
    padding: .6rem .75rem; border-bottom: 1px solid #eef2f7; vertical-align: middle;
    overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
  }


  /* Column picker (shared) */
  .columns-popover { position:relative; }
  .columns-button {
    list-style:none; display:inline-flex; align-items:center; gap:.5rem;
    border:1px solid #e5e7eb; border-radius:10px; padding:.4rem .6rem; background:#fff; cursor:pointer;
    font-weight:600; color:#0f172a;
  }

  .columns-grid { display:grid; grid-template-columns:1fr 1fr; gap:.35rem .75rem; }
  .picker-item.disabled{opacity:.5; cursor:not-allowed}
  .picker-item.disabled input{pointer-events:none}

  /* Stats responsive */
  .stats-grid { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:16px; }
  .stat-card{ background:#fff; border-radius:12px; padding:16px; box-shadow:0 2px 8px rgba(0,0,0,.06); }
  .stat-number{ font-size: clamp(1rem, 1vw, 1rem); white-space: normal; overflow-wrap: anywhere; }

  /* Alignment helpers */
  .align-left{text-align:left} .align-center{text-align:center} .align-right{text-align:right}

  /* Ensure inner elements inherit alignment in title cell */
  .box-office-table td.movie-cell,
  .box-office-table td.movie-cell .movie-title-wrap,
  .box-office-table td.movie-cell .movie-title-fr,
  .box-office-table td.movie-cell .movie-title-vo { text-align: inherit; --nudge-vo: 10px;  }

  /* Default table remains the same on desktop/tablet */
  .table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }



  /* Make sure alignment propagates into nested elements (currency spans, etc.) */
  .box-office-table td .th-inner,
  .box-office-table td > * { text-align: inherit; }



  /* keep the offset for sticky headers */
  .movie-title-wrap { scroll-margin-top: 84px; }

  /* row-wide flash whenever a descendant has .flash-highlight */
  table tr:has(.flash-highlight) td,
  table tr:has(.flash-highlight) th,
  [role="row"]:has(.flash-highlight) [role="gridcell"],
  [role="row"]:has(.flash-highlight) [role="columnheader"] {
    animation: boxoffice-flash 1.5s ease-in-out 1; /* <-- use existing keyframes name */
  }

  @keyframes boxoffice-flash {
    0%   { background-color: rgba(255, 235, 130, 0.00); }
    15%  { background-color: rgba(128, 150, 236, 0.85); }
    60%  { background-color: rgba(29, 67, 230, 0.45); }
    100% { background-color: rgba(255, 235, 130, 0.00); }
  }

  /* Optional: style the date link */
  .date-link { text-decoration: none; }
  .date-link:hover { text-decoration: underline; }

  /* Title cell layout */
  .title-cell {
    display: flex;
    align-items: center;
    gap: 10px;
    min-height: 52px;            /* keeps rows tidy even without posters */
  }

  /* Poster bubble/rectangle */
  .poster-thumb {
    width: 40px;                 /* ~2:3 ratio looks like a mini poster */
    height: 54px;
    object-fit: cover;
    flex: 0 0 auto;
    border-radius: 8px;          /* rounded rectangle by default */
    background: #e5e7eb;
    box-shadow: 0 1px 2px rgba(0,0,0,.08);
  }
  .poster-thumb.circle {          /* use for mobile if you prefer an avatar look */
    width: 40px;
    height: 40px;
    border-radius: 999px;
  }
  .poster-thumb.placeholder {
    background: linear-gradient(180deg,#f3f4f6,#e5e7eb);
  }

  /* Text next to poster */
  .title-text { display: flex; flex-direction: column; min-width: 0; }
  .movie-title-fr {
    font-weight: 600; color: #111827; text-decoration: none;
  }
  .movie-title-vo { font-size: .85rem; color: #6b7280; margin-top: 2px; }

  /* Subtle rank to the LEFT of the poster (not a table column) */
  .rank-chip {
    margin-right: 2px;
    width: 18px;                 /* narrow, doesn’t push layout */
    text-align: right;
    font-variant-numeric: tabular-nums;
    font-weight: 700;
    font-size: .75rem;
    color: #9ca3af;              /* discreet */
    opacity: .9;
  }

  /* ---- Only the text block is vertically centered to the poster ---- */
  .title-cell { --poster-h: 48px; min-height: var(--poster-h); gap: 8px; }
  .poster-thumb { width: 35px; height: var(--poster-h); object-fit: cover; border-radius: 8px; }

  /* Film column stays LEFT-aligned horizontally */
  .box-office-table td.movie-cell { text-align: left; }
  .box-office-table td.movie-cell .title-cell { justify-content: flex-start; }
  .box-office-table td.movie-cell .title-text { align-items: flex-start; text-align: left; }

  /* The text block gets vertically centered against poster height */
  .title-text { display: flex; flex-direction: column; min-width: 0; }
  .title-text.single,
  .title-text.has-vo { min-height: var(--poster-h); justify-content: center; }

  /* ---- FR title WRAPS to fill the gap (2 lines max) ---- */
  .movie-title-fr {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;       /* wrap up to 2 lines, then ellipsis */
    overflow: hidden;

    white-space: normal;         /* allow wrapping */
    text-overflow: ellipsis;     /* ellipsis only if it needs a 3rd line */

    font-weight: 750;
    font-size: 1rem;
    line-height: 1.15;
    color: #0f172a;
    margin: 0;
    text-decoration: none;
  }


  .movie-title-vo {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-top: 0.1px;
    font-size: .85rem;
    line-height: 1.25;
    color: #94a3b8;
    font-style: italic;
  }

  /* Subtle, compact rank */
  .rank-chip { width: 10px; text-align: center; font-variant-numeric: tabular-nums; font-weight: 700; font-size: 0.8rem; color: #9ca3af; }



  /* tune once, reuse */
  .title-cell {
    --poster-h: 48px;
    --nudge-single: 15px;  /* single-line (FR only) vertical nudge */
    --nudge-vo: -0px;      /* when FR+VO are shown */
  }

  /* keep items left; center only the text vs. poster */
  .title-text {
    display: flex;
    flex-direction: column;
    min-width: 0;
    min-height: var(--poster-h);
    justify-content: center;
    position: relative;           /* enables top/translate tweaks */
  }

  /* single-line case (FR==VO): push the text down a hair */
  .title-text.single { transform: translateY(var(--nudge-single)); }

  /* two-line case (FR + VO): usually already optically centered */
  .title-text.has-vo { transform: translateY(var(--nudge-vo)); }


  /* Horizontal scrolling when needed (desktop & mobile) */
  .table-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }



  /* (Optional) slightly smaller poster so rows stay tidy on phones */
  .title-cell { --poster-h: 48px; gap: 5px; }
  .poster-thumb { width: 32px; height: var(--poster-h); }


  /* ===== Force column widths on small screens (scroll instead of squish) ===== */
  .table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .box-office-table {
    table-layout: fixed;
  }

  /* Title wider so FR wraps nicely */
  .box-office-table col.col-title {
    width: 160px !important;
  }

  /* Numbers: compact but readable (tweak to taste) */
  .box-office-table col.col-revenue_qc {
    width: 90px !important;
  }

  /* Recettes */
  .box-office-table col.col-change_percent {
    width: 50px !important;
  }

  /* Delta */
  .box-office-table col.col-week_number {
    width: 50px !important;
  }

  /* Week */
  .box-office-table col.col-cumulatif_qc {
    width: 90px !important;
  }

  /* Cumulatif */
  .box-office-table col.col-screen_count {
    width: 60px !important;
  }

  /* Shows */
  .box-office-table col.col-rev_per_screen {
    width: 70px !important;
  }

  /* $/Shows */
  .box-office-table col.col-qc_usa {
    width: 60px !important;
  }

  /* QC/USA */
  .box-office-table col.col-occupancy {
    width: 60px !important;
  }

  /* Occupation */
  .box-office-table col.col-weight {
    width: 65px !important;
  }

  /* Poids total */
  /* If you sometimes use these, size them too */
  .box-office-table col.col-rank {
    width: 60px !important;
  }

  .box-office-table col.col-theater_count {
    width: 80px !important;
  }

  .box-office-table col.col-rev_per_theater {
    width: 140px !important;
  }

  .box-office-table col.col-date {
    width: 200px !important;
  }

  /* Tout le monde hérite de la base (on bat les règles plus spécifiques ci-dessus) */
  .box-office-table thead th,
  .box-office-table td,
  .box-office-table td:not(:first-child):not(:last-child),
  .box-office-table .movie-title-fr,
  .box-office-table .movie-title-vo {
    font-size: inherit !important;
  }


}

/* === Mobile font scaling (one place, wins cascade) === */
@media (max-width:680px) {
  /* 1) Base size for the whole table on mobile */
  .box-office-table { font-size: .8rem !important; }  /* tweak this number */

  /* 2) Everyone inherits that base (beats earlier fixed sizes) */
  .box-office-table thead th,
  .box-office-table td,
  .box-office-table td:not(:first-child):not(:last-child),
  .box-office-table .movie-title-fr,
  .box-office-table .movie-title-vo,
  .box-office-table .rank-chip {
    font-size: inherit !important;
  }


}




/* === Compact rows on mobile (tighter vertical rhythm) === */
@media (max-width:680px) {
  /* less padding = shorter rows */
  .box-office-table th,
  .box-office-table td {
    padding: .35rem .45rem;         /* was .6/.75 */
  }

  /* slightly smaller header */
  .box-office-table thead th {
    font-size: .85em;
    padding-top: .4rem;
    padding-bottom: .4rem;
  }

  /* smaller poster + tighter gaps */
  .title-cell { --poster-h: 38px; gap: 6px; }
  .poster-thumb { width: 28px; height: var(--poster-h); border-radius: 6px; }

  /* keep the text block centered against the smaller poster */
  .title-text { min-height: var(--poster-h); }

  /* title/subtitle line-heights trimmed */
  .movie-title-fr { line-height: 1.05; }
  .movie-title-vo { margin-top: 0; line-height: 1.05; font-size: .8em; }

  /* rank a bit smaller */
  .rank-chip { font-size: .7em; width: 8px; }
}

/* Sticky lead column */
.box-office-table { border-collapse: separate; border-spacing: 0; }

.box-office-table thead th.lead-sticky,
.box-office-table tbody td.lead-sticky {
  position: sticky;
  left: 0;
  z-index: 3;
  background: #fff;

}


.table-container.is-scrolling-x .lead-sticky {
  box-shadow: 8px 0 10px -8px rgba(15,23,42,.22);
}


.lead-wrap { display: flex; align-items: center; gap: 6px; width: var(--lead-w, 72px); }
.lead-cell { overflow: visible; }

@media (max-width:680px){
  :root { --lead-w: 62px; }
  .box-office-table col.col-lead { width: var(--lead-w) !important; }
  .box-office-table th, .box-office-table td { padding: .35rem .9rem; }
  .poster-thumb { width: 28px; height: 38px; border-radius: 6px; }
  .rank-chip { font-size: .7em; width: 10px; }
}


.table-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }

@media (max-width:680px) {

  .title-cell {
    --poster-h: 46px;
    gap: 8px;
  }

  .poster-thumb {
    width: 40px;
    height: var(--poster-h);
    border-radius: 8px;
  }

  .movie-title-fr {
    font-size: 1.2em;
    line-height: 1.1;
  }

  .movie-title-vo {
    font-size: .92em;
    line-height: 1.5;
    margin-top: 5px;
  }

  .rank-chip {
    font-size: .82em;
    width: 12px;
    line-height: 1;
  }

  :root {
    --lead-w: 74px;
  }

  .box-office-table col.col-lead {
    width: var(--lead-w) !important;
  }


  .box-office-table .title-cell .title-text {
    min-height: 0 !important;
    justify-content: flex-start !important;
  }

  .box-office-table .movie-title-fr {
    margin: 0 !important;
    padding: 0 !important;
    line-height: 1.02 !important;
  }

  .box-office-table .movie-title-vo {
    margin: 0 !important;
    padding: 0 !important;
    margin-top: -3px !important;
  }

}
@media (max-width:680px){
  .table-section { --section-pad-x: 1.25rem; }
  .table-section {
    margin-left: calc(var(--section-pad-x) * -1) !important;
    margin-right: calc(var(--section-pad-x) * -1) !important;
    -webkit-overflow-scrolling: touch;
  }
}
